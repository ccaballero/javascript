jQuery.uaMatch=function(b){b=b.toLowerCase();var d=/(webkit)[ \/]([\w.]+)/,f=/(opera)(?:.*version)?[ \/]([\w.]+)/,c=/(msie) ([\w.]+)/,e=/(mozilla)(?:.*? rv:([\w.]+))?/,a=d.exec(b)||f.exec(b)||c.exec(b)||b.indexOf("compatible")<0&&e.exec(b)||[];return{browser:a[1]||"",version:a[2]||"0"}};jQuery.browser={};(function(){var a=jQuery.uaMatch(navigator.userAgent);if(a.browser){jQuery.browser[a.browser]=true;jQuery.browser.version=a.version}if(jQuery.browser.webkit){jQuery.browser.safari=true}})();jQuery.curCSS=jQuery.css;(function(){var a=jQuery.fn.outerHeight;jQuery.fn.outerHeight=function(){return a.call(this,true)};var b=jQuery.fn.outerWidth;jQuery.fn.outerWidth=function(){return b.call(this,true)}})();(function(c){var a="focused";var b=function(){};c.fn.mozMenu=function(e){var f=c.extend({showDelay:100,hideDelay:100,submenu:null,focusOnOpen:false,brickOnClick:false,onOpen:b,onClose:b},e);var h;var i;return c(this).each(function(){var m=c(this);var n=m.parent();var l;var k=f.brickOnClick;if(k){m.on("click",function(o){if(typeof k!="function"||k(o)){o.preventDefault()}})}var j=(f.submenu||n.find(".submenu"));m.on("mouseenter focus",function(){if(j.ignoreFocus){return}if(!j.length){d(i);c.fn.mozMenu.$openMenu&&g(c.fn.mozMenu.$openMenu.parent().find(".submenu"));return}if(!l){l=1;m.on("mouseleave focusout",function(){d(i);g(j)});j.on("mouseleave",function(){d(i);g(j)});j.on("mouseenter focusin",function(){d(h)});j.on("keyup",function(o){if(o.keyCode==27){g(j);j.ignoreFocus=true;setTimeout(function(){j.ignoreFocus=false},10);m[0].focus()}});j.find(".submenu-close").on("click",function(){g(c(this).parent())})}if(c.fn.mozMenu.$openMenu&&c.fn.mozMenu.$openMenu!=m){d(i);g(c.fn.mozMenu.$openMenu.parent().find(".submenu"))}else{if(c.fn.mozMenu.$openMenu==m){d(h)}}c.fn.mozMenu.$openMenu=m;i=setTimeout(function(){j.css("z-index",99999).addClass("open").attr("aria-hidden","false").fadeIn();if(f.focusOnOpen){var p=j.find("a").get(0);if(p){try{c(p).addClass(a)&&p.focus()}catch(o){console.log("Exception! ",o)}}}f.onOpen()},f.showDelay)})});function d(j){j&&clearTimeout(j)}function g(j){h=setTimeout(function(){j&&j.css("z-index",99998).removeClass("open").attr("aria-hidden","true").fadeOut();f.onClose()},f.hideDelay)}};c.fn.mozKeyboardNav=function(e){var f=c.extend({itemSelector:"a"},e);return c(this).each(function(){var h=c(this).find(f.itemSelector);if(!h.length){return}var g=c(this);g.on("keydown",function(o){var j=o.keyCode;var p=o.charCode;var i=49;if(j==38||j==40){o.preventDefault();o.stopPropagation();var k=h.filter("."+a).removeClass(a);var n=h.index(k)||0;var m=c(h.get(n+1));var l=c(h.get(n-1));if(j==38){l.length&&d(l)}else{if(j==40){d(m.length?m:h.first())}}}else{if(p>=i&&p<=57){var q=h.get(p-i);q&&d(q)}}})});function d(g){c(g).addClass(a).get(0).focus()}};c.fn.mozTogglers=function(d){var e=c.extend({onOpen:b,slideCallback:b,duration:200},d);c(this).each(function(){var k=c(this);var i=j(k);var h="data-closed";if(k.hasClass("closed")){k.attr(h,"true").removeClass("closed");i.$container.hide()}l(i.$toggler,k);i.$toggler.attr("aria-haspopup",true);k.on("keyup",".toggle-container",function(m){m.preventDefault();m.stopPropagation();if(m.keyCode==27){c(this).siblings("a").trigger("mdn:click").focus()}});k.on("click mdn:click",".toggler",function(o){o.preventDefault();o.stopPropagation();e.onOpen.call(this);var n=k.closest("ol, ul");if(n.hasClass("accordion")){var m=n.find("> .current");if(m.length&&m.get(0)!=k.get(0)){f(m,true)}}f(k)});if(k.attr("data-default-state")=="open"){f(k)}function f(o,n){var m=j(o);if(!g(o)||n){o.attr(h,"true").removeClass("current");m.$container.attr("aria-expanded",false);m.$container.slideUp(e.duration,e.slideCallback)}else{o.attr(h,"").addClass("current");m.$container.attr("aria-expanded",true);m.$container.slideDown(e.duration,e.slideCallback)}l(m.$toggler,o)}function j(m){return{$container:m.find("> .toggle-container"),$toggler:m.find("> .toggler")}}function l(o,p){var m=o.attr("data-open-icon")||"icon-caret-right";var n=o.attr("data-closed-icon")||"icon-caret-down";o.find("i").attr("class",(g(p)?m:n))}function g(m){return m.attr(h)}})}})(jQuery);(function(a){var b=a("#feature-test-old-ie").length;(function(){var c=a('<div id="feature-test-element"></div>').appendTo(document.body);window.mdn.features.getDeviceState=function(){return c.css("z-index")}})();(function(){var c=a("#main-nav > ul > li");c.find("> a").mozMenu({brickOnClick:function(d){return d.target.tagName=="I"}});c.find(".submenu").mozKeyboardNav()})();(function(){var e=a("#main-nav");var c=e.find("ul > li:not(:last-child)");var d=e.find(".main-nav-search");var i=e.find(".search-wrap");var g=i.find("input");var f=i.find(".search-trigger");var k=g.attr("placeholder");f.on("click",function(l){g.get(0).focus()});var h;var j=function(m,l){return function(n){if(d.css("display")=="block"){return}n&&n.preventDefault();h&&clearTimeout(h);h=setTimeout(function(){if(l){c.fadeOut(100,function(){c.css("display","none");i.addClass("expanded");e.addClass("expand");setTimeout(function(){g.attr("placeholder",g.attr("data-placeholder"));g.val(g.attr("data-value"))},100)})}else{e.removeClass("expand");g.attr("placeholder","");g.attr("data-value",g.val());g.val("");h=setTimeout(function(){i.removeClass("expanded");c.fadeIn(400)},500)}},m)}};g.on("focus",j(200,true)).on("blur",j(600))})();(function(){var c=a(".persona-login");c.length&&a.ajax({url:"https://login.persona.org/include.js",dataType:"script",cache:true,success:function(){c.addClass("persona-loaded").on("click",function(d){if(!a(this).hasClass("toggle")){navigator.id.get(function(e){if(!e){return}a('input[name="assertion"]').val(e.toString());a("form.browserid").first().submit()});return false}})}})})();a("select.autosubmit").on("change",function(){this.form.submit()});(function(){var c="disabled";a("form").on("submit",function(d){var e=a(this);if(e.hasClass("nodisable")){return}if(e.data(c)){d.preventDefault()}else{e.data(c,true).addClass(c)}e.ajaxComplete(function(){e.data(c,false).removeClass(c);e.unbind("ajaxComplete")})})})();a(document).ajaxSend(function(e,h,d){function c(j){var n=null;if(document.cookie&&document.cookie!=""){var m=document.cookie.split(";");for(var l=0;l<m.length;l++){var k=jQuery.trim(m[l]);if(k.substring(0,j.length+1)==(j+"=")){n=decodeURIComponent(k.substring(j.length+1));break}}}return n}function g(j){var l=document.location.host;var m=document.location.protocol;var k="//"+l;var i=m+k;return(j==i||j.slice(0,i.length+1)==i+"/")||(j==k||j.slice(0,k.length+1)==k+"/")||!(/^(\/\/|http:|https:).*/.test(j))}function f(i){return(/^(GET|HEAD|OPTIONS|TRACE)$/.test(i))}if(!f(d.type)&&g(d.url)){h.setRequestHeader("X-CSRFToken",c("csrftoken"))}});a("#skip-search").on("click",function(c){c.preventDefault();a("input[name=q]").last().get(0).focus()});a("#skip-language").on("click",function(c){c.preventDefault();a("#language").get(0).focus()});(function(){var c=a("#advanced-menu, #languages-menu");c.mozMenu();c.parent().find(".submenu").mozKeyboardNav()})()})(jQuery);(function(a){a("#recent_badge_awards .close").click(function(){a("#recent_badge_awards").hide()});a("form.obi_issuer button.issue").click(function(){var b=a('head link[rel="alternate"][type="application/json"]').attr("href");OpenBadges.issue([b],function(d,c){if(d.length){}if(c.length){}});return false})})(jQuery);